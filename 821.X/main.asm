  	LIST p=16F18877
	#include<p16F18877.inc>
	
	__CONFIG _CONFIG1, _FEXTOSC_HS & _RSTOSC_EXT1X
	__CONFIG _CONFIG2, _BOREN_ON & _PPS1WAY_OFF
	__CONFIG _CONFIG3, _WDTE_OFF
	__CONFIG _CONFIG5, _CP_OFF & _CPD_OFF
	
D1	EQU	0x20
	
	ORG	00H
	GOTO	START
	
START:	MOVLB	.17
	MOVLW	0x70
	MOVWF	OSCCON1
	MOVLW	0x04
	MOVWF	OSCFRQ
	
	MOVLB	.1
	MOVLW	0x3F
	MOVWF	ADCLK
	MOVLW	0x80
	MOVWF	ADCON0
	
	MOVLB	.0
	CLRF	TRISD
	
	MOVLB	.14
	BCF	PIR1,ADIF
	
ADCONV:	CALL	DELAY
	MOVLB	.1
	BSF	ADCON0,ADON
	BCF	ADCON0,ADCONT
	BSF	ADCON0,ADGO
	
ADWAIT:	NOP
	MOVLB	.14
	BTFSS	PIR1,ADIF
	GOTO	ADWAIT
	BCF	PIR1,ADIF
	
	MOVLB	.1
	MOVF	ADRESH,W
	
	MOVLB	.0
	MOVWF	PORTD
	GOTO	ADCONV
	
DELAY:	MOVLB	.0
	MOVLW	.24
	MOVWF	D1
DLY1:	
	DECFSZ	D1,F
	GOTO	DLY1
	RETURN
	
	END